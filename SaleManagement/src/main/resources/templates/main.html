<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>TOP</title>
    	<link href="/main.css" rel="stylesheet"></link>
        <meta charset="utf-8" />
    </head>
    <body>

	   <h1>製造部売上管理システム：案件一覧</h1>

	   	<!-- 登録ボタン -->
		<form class="left" action="/insert" method="post">
			<p><input type="submit" value="新規登録"></p>
		</form>

		<h1 class="center">検索</h1>

		<!-- 検索ボタン -->


		<form class="right" action="#">
			件名:&emsp; <input form="text">
			<p><input type="submit" value="検索"></p>
		</form>

		<!-- ページングボタン -->
		<a href="#">&lt;&lt;</a>
		<a href="#">&lt;</a>
		<a href="#">1</a>
		<a href="#">2</a>
		<a href="#">3</a>
		<a href="#">4</a>
		<a href="#">5</a>
		<a href="#">&gt;</a>
		<a href="#">&gt;&gt;</a>


		<!-- テーブル -->
        <table>
	        <thead>
				<tr>
					<th>No.</th>
					<th>顧客</th>
					<th>受注日</th>
					<th>S番号</th>
					<th>件名</th>
					<th>数量</th>
					<th>納入指定日<br>/納入日</th>
					<th>請求日</th>
					<th>見積金額<br>/受注金額</th>
					<th>ステータス</th>
					<th colspan=2></th>
				</tr>
			</thead>

			<tbody>
	            <tr th:each="cus : ${list}" th:object="${cus}">
	                <td th:text="*{no}"/>
	                <td th:text="*{client}"/>
	                <td th:if='${cus.order_date!=""}' th:text="*{order_date.substring(0,4)} + '/' + *{order_date.substring(4,6)} + '/' + *{order_date.substring(6,8)}"></td>
	                <td th:if='${cus.order_date==""}' th:text="'-'"></td>
	                <td th:if='${cus.s_number!=""}' th:text="'S-' + *{s_number}"/>
	                <td th:if='${cus.s_number==""}' th:text="'-'"/>
	                <td th:text="*{subject}"/>
	                <td th:if='${cus.quantity!=""}' th:text="*{quantity}"/>
	                <td th:if='${cus.quantity==""}' th:text="'-'"/>
	                <td>
		                <span th:if='${cus.delivery_date!=""}' th:text="*{delivery_date.substring(0,4)} + '/' + *{delivery_date.substring(4,6)} + '/' + *{delivery_date.substring(6,8)}"></span>
		                <span th:if='${cus.delivery_date==""}' th:text="'-'"></span>
		                <br>
		                <th:block th:if='${cus.due_date!=""}' th:text="*{due_date.substring(0,4)} + '/' + *{due_date.substring(4,6)} + '/' + *{due_date.substring(6,8)}"/>
		                <th:block th:if='${cus.due_date==""}' th:text="'-'">
	                </td>
	                <td th:if='${cus.billing_date!=""}' th:text="*{billing_date.substring(0,4)} + '/' + *{billing_date.substring(4,6)} + '/' + *{billing_date.substring(6,8)}"/>
	                <td th:if='${cus.billing_date==""}' th:text="'-'"/>
	                <td>
		                <span th:if='${cus.estimated_amount!=""}' th:text="'&yen;' + ${#numbers.formatInteger(cus.estimated_amount, 3, 'COMMA')}"></span>
		                <span th:if='${cus.estimated_amount==""}' th:text="'-'"></span>
		                <br>
		                <th:block th:if='${cus.order_amount!=""}' th:text="'&yen;' + ${#numbers.formatInteger(cus.order_amount, 3, 'COMMA')}"/>
		                <th:block th:if='${cus.order_amount==""}' th:text="'-'"/>
	                </td>
	                <td th:text="*{status_number}"/>
	                <td><form th:action="@{/edit/{no}(no=*{no})}" method="post"><input type="submit" value="編集"></form></td>
	                <td><form th:action="@{/delete/{no}(no=*{no})}" method="post"><input type="submit" value="削除"></form></td>
	            </tr>
            </tbody>
        </table>

		<!-- ページングボタン -->
		<a href="#">&lt;&lt;</a>
		<a href="#">&lt;</a>
		<a href="#">1</a>
		<a href="#">2</a>
		<a href="#">3</a>
		<a href="#">4</a>
		<a href="#">5</a>
		<a href="#">&gt;</a>
		<a href="#">&gt;&gt;</a>

	   	<!-- 登録ボタン -->
		<form action="/insert" method="post">
			<p><input type="submit" value="新規登録"></p>
		</form>
    </body>
</html>